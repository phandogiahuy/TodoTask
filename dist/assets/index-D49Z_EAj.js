import{j as e,r as h}from"./react-Bf7irJ3V.js";import{c as L}from"./react-dom-BSd0tdhS.js";import{u as y,a as F,Q as U,b as D}from"./@tanstack-D2e9hfIj.js";import{a as x}from"./axios-9PTFF6AP.js";import{S as v,a as P,s as b,b as E,F as O,T as q,P as B,B as M}from"./antd-CCk3J4R9.js";import{k as R,H as $,J as A}from"./@ant-design-D8uL6eAn.js";import"./classnames-C9FZUsQl.js";import"./scheduler-CzFDRTuY.js";import"./rc-util-BDhcp0wf.js";import"./react-is-DcfIKM1A.js";import"./@babel-6uu_lx9h.js";import"./rc-resize-observer-Dz4Q5JLj.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./rc-motion-SBu-QzwT.js";import"./rc-overflow-Cuetf0Pw.js";import"./rc-menu-C0ZJb33t.js";import"./@rc-component-CWVFqUjO.js";import"./rc-select-Oc5SoPHo.js";import"./rc-virtual-list-QdVo5CJL.js";import"./rc-field-form-Hl7QSPOf.js";import"./async-validator-DKvM95Vc.js";import"./rc-notification-CBxDc9-M.js";import"./rc-tooltip-BoKWhGoV.js";import"./rc-table-Suzts-zG.js";import"./rc-tree-3cikMHv1.js";import"./rc-checkbox-H5y3h5Bg.js";import"./rc-dropdown-CL_kQnTQ.js";import"./@ctrl-DOFZgDuz.js";import"./rc-pagination-CMZXJ2Ty.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-C9xbu1Sf.js";import"./rc-textarea-DEpdDXeG.js";import"./rc-picker-B1c2t2vH.js";import"./@emotion-CW87jbl0.js";import"./stylis-DsJDcYJc.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function m(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(r){if(r.ep)return;r.ep=!0;const n=m(r);fetch(r.href,n)}})();const G=()=>e.jsxs("div",{className:"h-[10%] flex justify-center mt-1",children:[e.jsx("img",{src:"geekup.png"}),e.jsx("div",{className:"bg-amber-100 h-fit text-center p-4 shadow-xl rounded-md ",children:e.jsx("p",{className:"font-sans-serif text-7xl ",children:"Greekup Todos"})})]}),k=["getUser"],H="getTaskUserID",K=async()=>{const{data:s}=await x.get("https://jsonplaceholder.typicode.com/users");return s},Q=()=>y({queryKey:k,queryFn:()=>K()});function _({user:s,change:i}){var m;return e.jsxs(v,{wrap:!0,children:[e.jsx("div",{className:"font-sans font-bold text-3xl",children:"User"}),e.jsx(P,{defaultValue:((m=s[0])==null?void 0:m.value)||"",style:{width:150},options:s,onChange:i})]})}async function z({taskId:s}){const{data:i}=await x.patch(`https://jsonplaceholder.typicode.com/todos/${s}`,{completed:!0});return i}const J=()=>F({mutationFn:z,onSuccess:()=>{},onError:()=>{b.error("error")}}),V=async s=>{const{data:i}=await x.get(`https://jsonplaceholder.typicode.com/users/${s}/todos`);return i},W=s=>y({queryKey:[H,s],queryFn:()=>V(s)}),Y=()=>{var j;const[s,i]=h.useState(1),{isLoading:m,data:u}=Q(),r=J(),[n,p]=h.useState([]),l=W(s),[d,w]=h.useState([]);if(m&&l.isLoading)return e.jsx("div",{children:e.jsx(E,{})});const S=()=>{b.error("Task don't complete")},g=t=>{r.mutate({taskId:t}),p(o=>{const a=[...o];return a[t]=!0,a}),r.data&&(w(()=>{var a;return d.length>0?d==null?void 0:d.map(c=>{var f;return c.id===((f=r.data)==null?void 0:f.id)?r.data:c}):(a=l.data)==null?void 0:a.map(c=>{var f;return c.id===((f=r.data)==null?void 0:f.id)?r.data:c})}),p(o=>{const a=[...o];return a[t]=!1,a}))};r.isSuccess&&g(1);const N=u==null?void 0:u.map(t=>({value:t.id,label:t.name})),T=t=>{i(t)},I=()=>{var o,a;return`${d.length>0?d.filter(c=>c.completed).length:(o=l.data)==null?void 0:o.filter(c=>c.completed).length}/${(a=l.data)==null?void 0:a.length}`},C=[{title:"Status",dataIndex:"completed",rowScope:"row",filters:[{text:"In Progress",value:!1},{text:"Completed",value:!0}],onFilter:(t,o)=>o.completed===t,render:t=>{let o;return t?(o="blue",t="Done"):(o="red",t="In Progress"),e.jsxs(q,{color:o,children:[t.toUpperCase()," ",t==="Done"&&e.jsx(R,{}),t==="In Progress"&&e.jsx($,{})]},t)},sorter:(t,o)=>t.completed-o.completed},{title:"Task",dataIndex:"title",key:"title"},{title:"Action",dataIndex:"completed",key:"completed",render:(t,o)=>e.jsx(v,{size:"middle",children:!t&&e.jsx(B,{title:"Check Done",description:"Are you sure to completed this task",onConfirm:()=>g(o.id),onCancel:S,okText:"Yes",cancelText:"No",children:e.jsx(M,{icon:e.jsx(A,{}),style:{backgroundColor:"#a8ffc8"},loading:n[o.id],children:"Mark Done"})})})}];return e.jsxs("div",{className:"h-[80%] p-2",children:[e.jsx("div",{children:e.jsx("p",{className:"font-jersey font-bold text-5xl",children:"Task Mangement"})}),e.jsxs("div",{className:"mt-5",children:[u&&e.jsx(_,{user:N,change:T}),e.jsx("div",{className:"p-2",children:e.jsx(O,{dataSource:d.length>0?d.sort((t,o)=>o.completed-t.completed):(j=l==null?void 0:l.data)==null?void 0:j.sort((t,o)=>o.completed-t.completed),columns:C,bordered:!0,loading:l.isLoading,footer:I})})]})]})};function X(){return e.jsx("div",{className:"h-[10%] flex justify-center items-center bg-slate-200 rounded-sm mt-9",children:e.jsx("div",{className:"font-serif text-3xl",children:"Designed By Gia Huy 2024"})})}function Z(){return e.jsxs("div",{className:"bg-orange-1000 h-[1000px] ",children:[e.jsx(G,{}),e.jsx(Y,{}),e.jsx(X,{})]})}const ee=new U({defaultOptions:{queries:{refetchOnMount:!1,refetchOnWindowFocus:!1}}});function te(){return e.jsx(D,{client:ee,children:e.jsx(Z,{})})}L.createRoot(document.getElementById("root")).render(e.jsx(e.Fragment,{children:e.jsx(te,{})}));
