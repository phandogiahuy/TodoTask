import{c as b,f as ut,g as mr,e as A,h as Tt}from"./@babel-6uu_lx9h.js";import{r as a}from"./react-Bf7irJ3V.js";import{r as Pt}from"./react-dom-BSd0tdhS.js";import{c as Ar,u as F,d as Et,a as xt,r as ft,s as Ir,e as Dt,f as Wt,h as zt,i as Te,j as lt,k as Bt,g as vt,l as Ht,m as _t,n as Vt}from"./rc-util-BDhcp0wf.js";import{c as rr}from"./classnames-C9FZUsQl.js";import{R as Rt}from"./rc-resize-observer-Dz4Q5JLj.js";import{C as $t}from"./rc-motion-SBu-QzwT.js";import"./react-is-DcfIKM1A.js";var kt=a.createContext(null),dt=[];function Ft(e,t){var r=a.useState(function(){if(!Ar())return null;var y=document.createElement("div");return y}),o=b(r,1),n=o[0],u=a.useRef(!1),l=a.useContext(kt),s=a.useState(dt),h=b(s,2),c=h[0],g=h[1],v=l||(u.current?void 0:function(y){g(function(P){var k=[y].concat(ut(P));return k})});function C(){n.parentElement||document.body.appendChild(n),u.current=!0}function d(){var y;(y=n.parentElement)===null||y===void 0||y.removeChild(n),u.current=!1}return F(function(){return e?l?l(C):C():d(),d},[e]),F(function(){c.length&&(c.forEach(function(y){return y()}),g(dt))},[c]),[n,v]}function At(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var It="rc-util-locker-".concat(Date.now()),mt=0;function Ut(e){var t=!!e,r=a.useState(function(){return mt+=1,"".concat(It,"_").concat(mt)}),o=b(r,1),n=o[0];F(function(){if(t){var u=Et(document.body).width,l=At();xt(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(u,"px);"):"",`
}`),n)}else ft(n);return function(){ft(n)}},[t,n])}var qt=!1;function jt(e){return qt}var ht=function(t){return t===!1?!1:!Ar()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Lt=a.forwardRef(function(e,t){var r=e.open,o=e.autoLock,n=e.getContainer;e.debug;var u=e.autoDestroy,l=u===void 0?!0:u,s=e.children,h=a.useState(r),c=b(h,2),g=c[0],v=c[1],C=g||r;a.useEffect(function(){(l||r)&&v(r)},[r,l]);var d=a.useState(function(){return ht(n)}),y=b(d,2),P=y[0],k=y[1];a.useEffect(function(){var ee=ht(n);k(ee??null)});var H=Ft(C&&!P),E=b(H,2),w=E[0],m=E[1],_=P??w;Ut(o&&r&&Ar()&&(_===w||_===document.body));var O=null;if(s&&Ir(s)&&t){var p=s;O=p.ref}var ue=Dt(O,t);if(!C||!Ar()||P===void 0)return null;var de=_===!1||jt(),Q=s;return t&&(Q=a.cloneElement(s,{ref:ue})),a.createElement(kt.Provider,{value:m},de?Q:Pt.createPortal(Q,_))});function Qt(e){var t=e.prefixCls,r=e.align,o=e.arrow,n=e.arrowPos,u=o||{},l=u.className,s=u.content,h=n.x,c=h===void 0?0:h,g=n.y,v=g===void 0?0:g,C=a.useRef();if(!r||!r.points)return null;var d={position:"absolute"};if(r.autoArrow!==!1){var y=r.points[0],P=r.points[1],k=y[0],H=y[1],E=P[0],w=P[1];k===E||!["t","b"].includes(k)?d.top=v:k==="t"?d.top=0:d.bottom=0,H===w||!["l","r"].includes(H)?d.left=c:H==="l"?d.left=0:d.right=0}return a.createElement("div",{ref:C,className:rr("".concat(t,"-arrow"),l),style:d},s)}function Jt(e){var t=e.prefixCls,r=e.open,o=e.zIndex,n=e.mask,u=e.motion;return n?a.createElement($t,mr({},u,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(l){var s=l.className;return a.createElement("div",{style:{zIndex:o},className:rr("".concat(t,"-mask"),s)})}):null}var Gt=a.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Kt=a.forwardRef(function(e,t){var r=e.popup,o=e.className,n=e.prefixCls,u=e.style,l=e.target,s=e.onVisibleChanged,h=e.open,c=e.keepDom,g=e.fresh,v=e.onClick,C=e.mask,d=e.arrow,y=e.arrowPos,P=e.align,k=e.motion,H=e.maskMotion,E=e.forceRender,w=e.getPopupContainer,m=e.autoDestroy,_=e.portal,O=e.zIndex,p=e.onMouseEnter,ue=e.onMouseLeave,de=e.onPointerEnter,Q=e.ready,ee=e.offsetX,me=e.offsetY,he=e.offsetR,le=e.offsetB,ge=e.onAlign,x=e.onPrepare,z=e.stretch,S=e.targetWidth,J=e.targetHeight,D=typeof r=="function"?r():r,ve=h||c,re=(w==null?void 0:w.length)>0,tr=a.useState(!w||!re),je=b(tr,2),ye=je[0],Qe=je[1];if(F(function(){!ye&&re&&l&&Qe(!0)},[ye,re,l]),!ye)return null;var te="auto",B={left:"-1000vw",top:"-1000vh",right:te,bottom:te};if(Q||!h){var G,se=P.points,ce=P.dynamicInset||((G=P._experimental)===null||G===void 0?void 0:G.dynamicInset),Je=ce&&se[0][1]==="r",ar=ce&&se[0][0]==="b";Je?(B.right=he,B.left=te):(B.left=ee,B.right=te),ar?(B.bottom=le,B.top=te):(B.top=me,B.bottom=te)}var V={};return z&&(z.includes("height")&&J?V.height=J:z.includes("minHeight")&&J&&(V.minHeight=J),z.includes("width")&&S?V.width=S:z.includes("minWidth")&&S&&(V.minWidth=S)),h||(V.pointerEvents="none"),a.createElement(_,{open:E||ve,getContainer:w&&function(){return w(l)},autoDestroy:m},a.createElement(Jt,{prefixCls:n,open:h,zIndex:O,mask:C,motion:H}),a.createElement(Rt,{onResize:ge,disabled:!h},function(Ge){return a.createElement($t,mr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:E,leavedClassName:"".concat(n,"-hidden")},k,{onAppearPrepare:x,onEnterPrepare:x,visible:h,onVisibleChanged:function(q){var Ce;k==null||(Ce=k.onVisibleChanged)===null||Ce===void 0||Ce.call(k,q),s(q)}}),function(De,q){var Ce=De.className,M=De.style,Ee=rr(n,Ce,o);return a.createElement("div",{ref:Wt(Ge,t,q),className:Ee,style:A(A(A(A({"--arrow-x":"".concat(y.x||0,"px"),"--arrow-y":"".concat(y.y||0,"px")},B),V),M),{},{boxSizing:"border-box",zIndex:O},u),onMouseEnter:p,onMouseLeave:ue,onPointerEnter:de,onClick:v},d&&a.createElement(Qt,{prefixCls:n,arrow:d,arrowPos:y,align:P}),a.createElement(Gt,{cache:!h&&!g},D))})}))}),Zt=a.forwardRef(function(e,t){var r=e.children,o=e.getTriggerDOMNode,n=Ir(r),u=a.useCallback(function(s){zt(t,o?o(s):s)},[o]),l=Dt(u,r.ref);return n?a.cloneElement(r,{ref:l}):r}),gt=a.createContext(null);function yt(e){return e?Array.isArray(e)?e:[e]:[]}function Yt(e,t,r,o){return a.useMemo(function(){var n=yt(r??t),u=yt(o??t),l=new Set(n),s=new Set(u);return e&&(l.has("hover")&&(l.delete("hover"),l.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[l,s]},[e,t,r,o])}function Xt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Ot(e,t,r,o){for(var n=r.points,u=Object.keys(e),l=0;l<u.length;l+=1){var s,h=u[l];if(Xt((s=e[h])===null||s===void 0?void 0:s.points,n,o))return"".concat(t,"-placement-").concat(h)}return""}function Ct(e,t,r,o){return t||(r?{motionName:"".concat(e,"-").concat(r)}:o?{motionName:o}:null)}function gr(e){return e.ownerDocument.defaultView}function st(e){for(var t=[],r=e==null?void 0:e.parentElement,o=["hidden","scroll","clip","auto"];r;){var n=gr(r).getComputedStyle(r),u=n.overflowX,l=n.overflowY,s=n.overflow;[u,l,s].some(function(h){return o.includes(h)})&&t.push(r),r=r.parentElement}return t}function hr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function dr(e){return hr(parseFloat(e),0)}function St(e,t){var r=A({},e);return(t||[]).forEach(function(o){if(!(o instanceof HTMLBodyElement||o instanceof HTMLHtmlElement)){var n=gr(o).getComputedStyle(o),u=n.overflow,l=n.overflowClipMargin,s=n.borderTopWidth,h=n.borderBottomWidth,c=n.borderLeftWidth,g=n.borderRightWidth,v=o.getBoundingClientRect(),C=o.offsetHeight,d=o.clientHeight,y=o.offsetWidth,P=o.clientWidth,k=dr(s),H=dr(h),E=dr(c),w=dr(g),m=hr(Math.round(v.width/y*1e3)/1e3),_=hr(Math.round(v.height/C*1e3)/1e3),O=(y-P-E-w)*m,p=(C-d-k-H)*_,ue=k*_,de=H*_,Q=E*m,ee=w*m,me=0,he=0;if(u==="clip"){var le=dr(l);me=le*m,he=le*_}var ge=v.x+Q-me,x=v.y+ue-he,z=ge+v.width+2*me-Q-ee-O,S=x+v.height+2*he-ue-de-p;r.left=Math.max(r.left,ge),r.top=Math.max(r.top,x),r.right=Math.min(r.right,z),r.bottom=Math.min(r.bottom,S)}}),r}function Mt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),o=r.match(/^(.*)\%$/);return o?e*(parseFloat(o[1])/100):parseFloat(r)}function bt(e,t){var r=t||[],o=b(r,2),n=o[0],u=o[1];return[Mt(e.width,n),Mt(e.height,u)]}function wt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function er(e,t){var r=t[0],o=t[1],n,u;return r==="t"?u=e.y:r==="b"?u=e.y+e.height:u=e.y+e.height/2,o==="l"?n=e.x:o==="r"?n=e.x+e.width:n=e.x+e.width/2,{x:n,y:u}}function Ne(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(o,n){return n===t?r[o]||"c":o}).join("")}function pt(e,t,r,o,n,u,l){var s=a.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:n[o]||{}}),h=b(s,2),c=h[0],g=h[1],v=a.useRef(0),C=a.useMemo(function(){return t?st(t):[]},[t]),d=a.useRef({}),y=function(){d.current={}};e||y();var P=Te(function(){if(t&&r&&e){let Y=function(zr,X){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ee,Br=D.x+zr,pe=D.y+X,Hr=Br+G,fr=pe+B,_r=Math.max(Br,Oe.left),at=Math.max(pe,Oe.top),nt=Math.min(Hr,Oe.right),ot=Math.min(fr,Oe.bottom);return Math.max(0,(nt-_r)*(ot-at))},Wr=function(){_e=D.y+L,Ve=_e+B,be=D.x+T,Fe=be+G};var E,w,m=t,_=m.ownerDocument,O=gr(m),p=O.getComputedStyle(m),ue=p.width,de=p.height,Q=p.position,ee=m.style.left,me=m.style.top,he=m.style.right,le=m.style.bottom,ge=m.style.overflow,x=A(A({},n[o]),u),z=_.createElement("div");(E=m.parentElement)===null||E===void 0||E.appendChild(z),z.style.left="".concat(m.offsetLeft,"px"),z.style.top="".concat(m.offsetTop,"px"),z.style.position=Q,z.style.height="".concat(m.offsetHeight,"px"),z.style.width="".concat(m.offsetWidth,"px"),m.style.left="0",m.style.top="0",m.style.right="auto",m.style.bottom="auto",m.style.overflow="hidden";var S;if(Array.isArray(r))S={x:r[0],y:r[1],width:0,height:0};else{var J=r.getBoundingClientRect();S={x:J.x,y:J.y,width:J.width,height:J.height}}var D=m.getBoundingClientRect(),ve=_.documentElement,re=ve.clientWidth,tr=ve.clientHeight,je=ve.scrollWidth,ye=ve.scrollHeight,Qe=ve.scrollTop,te=ve.scrollLeft,B=D.height,G=D.width,se=S.height,ce=S.width,Je={left:0,top:0,right:re,bottom:tr},ar={left:-te,top:-Qe,right:je-te,bottom:ye-Qe},V=x.htmlRegion,Ge="visible",De="visibleFirst";V!=="scroll"&&V!==De&&(V=Ge);var q=V===De,Ce=St(ar,C),M=St(Je,C),Ee=V===Ge?M:Ce,K=q?M:Ee;m.style.left="auto",m.style.top="auto",m.style.right="0",m.style.bottom="0";var yr=m.getBoundingClientRect();m.style.left=ee,m.style.top=me,m.style.right=he,m.style.bottom=le,m.style.overflow=ge,(w=m.parentElement)===null||w===void 0||w.removeChild(z);var xe=hr(Math.round(G/parseFloat(ue)*1e3)/1e3),We=hr(Math.round(B/parseFloat(de)*1e3)/1e3);if(xe===0||We===0||lt(r)&&!Bt(r))return;var Cr=x.offset,I=x.targetOffset,Ur=bt(D,Cr),nr=b(Ur,2),ae=nr[0],ne=nr[1],Sr=bt(S,I),oe=b(Sr,2),qr=oe[0],Mr=oe[1];S.x-=qr,S.y-=Mr;var jr=x.points||[],ze=b(jr,2),Z=ze[0],Re=ze[1],Se=wt(Re),j=wt(Z),br=er(S,Se),wr=er(D,j),Me=A({},x),T=br.x-wr.x+ae,L=br.y-wr.y+ne,N=Y(T,L),Ke=Y(T,L,M),$e=er(S,["t","l"]),Be=er(D,["t","l"]),or=er(S,["b","r"]),ir=er(D,["b","r"]),He=x.overflow||{},ie=He.adjustX,Qr=He.adjustY,ur=He.shiftX,Ze=He.shiftY,lr=function(X){return typeof X=="boolean"?X:X>=0},_e,Ve,be,Fe;Wr();var Pr=lr(Qr),vr=j[0]===Se[0];if(Pr&&j[0]==="t"&&(Ve>K.bottom||d.current.bt)){var ke=L;vr?ke-=B-se:ke=$e.y-ir.y-ne;var Dr=Y(T,ke),Ye=Y(T,ke,M);Dr>N||Dr===N&&(!q||Ye>=Ke)?(d.current.bt=!0,L=ke,ne=-ne,Me.points=[Ne(j,0),Ne(Se,0)]):d.current.bt=!1}if(Pr&&j[0]==="b"&&(_e<K.top||d.current.tb)){var Ae=L;vr?Ae+=B-se:Ae=or.y-Be.y-ne;var U=Y(T,Ae),Jr=Y(T,Ae,M);U>N||U===N&&(!q||Jr>=Ke)?(d.current.tb=!0,L=Ae,ne=-ne,Me.points=[Ne(j,0),Ne(Se,0)]):d.current.tb=!1}var Rr=lr(ie),$r=j[1]===Se[1];if(Rr&&j[1]==="l"&&(Fe>K.right||d.current.rl)){var Ie=T;$r?Ie-=G-ce:Ie=$e.x-ir.x-ae;var kr=Y(Ie,L),Gr=Y(Ie,L,M);kr>N||kr===N&&(!q||Gr>=Ke)?(d.current.rl=!0,T=Ie,ae=-ae,Me.points=[Ne(j,1),Ne(Se,1)]):d.current.rl=!1}if(Rr&&j[1]==="r"&&(be<K.left||d.current.lr)){var Ue=T;$r?Ue+=G-ce:Ue=or.x-Be.x-ae;var Lr=Y(Ue,L),Kr=Y(Ue,L,M);Lr>N||Lr===N&&(!q||Kr>=Ke)?(d.current.lr=!0,T=Ue,ae=-ae,Me.points=[Ne(j,1),Ne(Se,1)]):d.current.lr=!1}Wr();var fe=ur===!0?0:ur;typeof fe=="number"&&(be<M.left&&(T-=be-M.left-ae,S.x+ce<M.left+fe&&(T+=S.x-M.left+ce-fe)),Fe>M.right&&(T-=Fe-M.right-ae,S.x>M.right-fe&&(T+=S.x-M.right+fe)));var we=Ze===!0?0:Ze;typeof we=="number"&&(_e<M.top&&(L-=_e-M.top-ne,S.y+se<M.top+we&&(L+=S.y-M.top+se-we)),Ve>M.bottom&&(L-=Ve-M.bottom-ne,S.y>M.bottom-we&&(L+=S.y-M.bottom+we)));var sr=D.x+T,Nr=sr+G,Le=D.y+L,qe=Le+B,cr=S.x,Xe=cr+ce,Pe=S.y,Zr=Pe+se,Yr=Math.max(sr,cr),Xr=Math.min(Nr,Xe),Tr=(Yr+Xr)/2,Or=Tr-sr,pr=Math.max(Le,Pe),et=Math.min(qe,Zr),Er=(pr+et)/2,rt=Er-Le;l==null||l(t,Me);var tt=yr.right-D.x-(T+D.width),xr=yr.bottom-D.y-(L+D.height);g({ready:!0,offsetX:T/xe,offsetY:L/We,offsetR:tt/xe,offsetB:xr/We,arrowX:Or/xe,arrowY:rt/We,scaleX:xe,scaleY:We,align:Me})}}),k=function(){v.current+=1;var w=v.current;Promise.resolve().then(function(){v.current===w&&P()})},H=function(){g(function(w){return A(A({},w),{},{ready:!1})})};return F(H,[o]),F(function(){e||H()},[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,k]}function ea(e,t,r,o,n){F(function(){if(e&&t&&r){let v=function(){o(),n()};var u=t,l=r,s=st(u),h=st(l),c=gr(l),g=new Set([c].concat(ut(s),ut(h)));return g.forEach(function(C){C.addEventListener("scroll",v,{passive:!0})}),c.addEventListener("resize",v,{passive:!0}),o(),function(){g.forEach(function(C){C.removeEventListener("scroll",v),c.removeEventListener("resize",v)})}}},[e,t,r])}function ra(e,t,r,o,n,u,l,s){var h=a.useRef(e);h.current=e,a.useEffect(function(){if(t&&o&&(!n||u)){var c=function(d){var y=d.target;h.current&&!l(y)&&s(!1)},g=gr(o);g.addEventListener("mousedown",c,!0),g.addEventListener("contextmenu",c,!0);var v=vt(r);return v&&(v.addEventListener("mousedown",c,!0),v.addEventListener("contextmenu",c,!0)),function(){g.removeEventListener("mousedown",c,!0),g.removeEventListener("contextmenu",c,!0),v&&(v.removeEventListener("mousedown",c,!0),v.removeEventListener("contextmenu",c,!0))}}},[t,r,o,n,u])}var ta=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function aa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lt,t=a.forwardRef(function(r,o){var n=r.prefixCls,u=n===void 0?"rc-trigger-popup":n,l=r.children,s=r.action,h=s===void 0?"hover":s,c=r.showAction,g=r.hideAction,v=r.popupVisible,C=r.defaultPopupVisible,d=r.onPopupVisibleChange,y=r.afterPopupVisibleChange,P=r.mouseEnterDelay,k=r.mouseLeaveDelay,H=k===void 0?.1:k,E=r.focusDelay,w=r.blurDelay,m=r.mask,_=r.maskClosable,O=_===void 0?!0:_,p=r.getPopupContainer,ue=r.forceRender,de=r.autoDestroy,Q=r.destroyPopupOnHide,ee=r.popup,me=r.popupClassName,he=r.popupStyle,le=r.popupPlacement,ge=r.builtinPlacements,x=ge===void 0?{}:ge,z=r.popupAlign,S=r.zIndex,J=r.stretch,D=r.getPopupClassNameFromAlign,ve=r.fresh,re=r.alignPoint,tr=r.onPopupClick,je=r.onPopupAlign,ye=r.arrow,Qe=r.popupMotion,te=r.maskMotion,B=r.popupTransitionName,G=r.popupAnimation,se=r.maskTransitionName,ce=r.maskAnimation,Je=r.className,ar=r.getTriggerDOMNode,V=Tt(r,ta),Ge=de||Q||!1,De=a.useState(!1),q=b(De,2),Ce=q[0],M=q[1];F(function(){M(Ht())},[]);var Ee=a.useRef({}),K=a.useContext(gt),yr=a.useMemo(function(){return{registerSubPopup:function(f,R){Ee.current[f]=R,K==null||K.registerSubPopup(f,R)}}},[K]),xe=_t(),We=a.useState(null),Cr=b(We,2),I=Cr[0],Ur=Cr[1],nr=a.useRef(null),ae=Te(function(i){nr.current=i,lt(i)&&I!==i&&Ur(i),K==null||K.registerSubPopup(xe,i)}),ne=a.useState(null),Sr=b(ne,2),oe=Sr[0],qr=Sr[1],Mr=a.useRef(null),jr=Te(function(i){lt(i)&&oe!==i&&(qr(i),Mr.current=i)}),ze=a.Children.only(l),Z=(ze==null?void 0:ze.props)||{},Re={},Se=Te(function(i){var f,R,W=oe;return(W==null?void 0:W.contains(i))||((f=vt(W))===null||f===void 0?void 0:f.host)===i||i===W||(I==null?void 0:I.contains(i))||((R=vt(I))===null||R===void 0?void 0:R.host)===i||i===I||Object.values(Ee.current).some(function($){return($==null?void 0:$.contains(i))||i===$})}),j=Ct(u,Qe,G,B),br=Ct(u,te,ce,se),wr=a.useState(C||!1),Me=b(wr,2),T=Me[0],L=Me[1],N=v??T,Ke=Te(function(i){v===void 0&&L(i)});F(function(){L(v||!1)},[v]);var $e=a.useRef(N);$e.current=N;var Be=a.useRef([]);Be.current=[];var or=Te(function(i){var f;Ke(i),((f=Be.current[Be.current.length-1])!==null&&f!==void 0?f:N)!==i&&(Be.current.push(i),d==null||d(i))}),ir=a.useRef(),He=function(){clearTimeout(ir.current)},ie=function(f){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;He(),R===0?or(f):ir.current=setTimeout(function(){or(f)},R*1e3)};a.useEffect(function(){return He},[]);var Qr=a.useState(!1),ur=b(Qr,2),Ze=ur[0],lr=ur[1];F(function(i){(!i||N)&&lr(!0)},[N]);var _e=a.useState(null),Ve=b(_e,2),be=Ve[0],Fe=Ve[1],Pr=a.useState([0,0]),vr=b(Pr,2),ke=vr[0],Dr=vr[1],Ye=function(f){Dr([f.clientX,f.clientY])},Ae=pt(N,I,re?ke:oe,le,x,z,je),U=b(Ae,11),Jr=U[0],Rr=U[1],$r=U[2],Ie=U[3],kr=U[4],Gr=U[5],Ue=U[6],Lr=U[7],Kr=U[8],fe=U[9],we=U[10],sr=Yt(Ce,h,c,g),Nr=b(sr,2),Le=Nr[0],qe=Nr[1],cr=Le.has("click"),Xe=qe.has("click")||qe.has("contextMenu"),Pe=Te(function(){Ze||we()}),Zr=function(){$e.current&&re&&Xe&&ie(!1)};ea(N,oe,I,Pe,Zr),F(function(){Pe()},[ke,le]),F(function(){N&&!(x!=null&&x[le])&&Pe()},[JSON.stringify(z)]);var Yr=a.useMemo(function(){var i=Ot(x,u,fe,re);return rr(i,D==null?void 0:D(fe))},[fe,D,x,u,re]);a.useImperativeHandle(o,function(){return{nativeElement:Mr.current,popupElement:nr.current,forceAlign:Pe}});var Xr=a.useState(0),Tr=b(Xr,2),Or=Tr[0],pr=Tr[1],et=a.useState(0),Er=b(et,2),rt=Er[0],tt=Er[1],xr=function(){if(J&&oe){var f=oe.getBoundingClientRect();pr(f.width),tt(f.height)}},Y=function(){xr(),Pe()},Wr=function(f){lr(!1),we(),y==null||y(f)},zr=function(){return new Promise(function(f){xr(),Fe(function(){return f})})};F(function(){be&&(we(),be(),Fe(null))},[be]);function X(i,f,R,W){Re[i]=function($){var Vr;W==null||W($),ie(f,R);for(var it=arguments.length,ct=new Array(it>1?it-1:0),Fr=1;Fr<it;Fr++)ct[Fr-1]=arguments[Fr];(Vr=Z[i])===null||Vr===void 0||Vr.call.apply(Vr,[Z,$].concat(ct))}}(cr||Xe)&&(Re.onClick=function(i){var f;$e.current&&Xe?ie(!1):!$e.current&&cr&&(Ye(i),ie(!0));for(var R=arguments.length,W=new Array(R>1?R-1:0),$=1;$<R;$++)W[$-1]=arguments[$];(f=Z.onClick)===null||f===void 0||f.call.apply(f,[Z,i].concat(W))}),ra(N,Xe,oe,I,m,O,Se,ie);var Oe=Le.has("hover"),Br=qe.has("hover"),pe,Hr;Oe&&(X("onMouseEnter",!0,P,function(i){Ye(i)}),X("onPointerEnter",!0,P,function(i){Ye(i)}),pe=function(f){(N||Ze)&&I!==null&&I!==void 0&&I.contains(f.target)&&ie(!0,P)},re&&(Re.onMouseMove=function(i){var f;(f=Z.onMouseMove)===null||f===void 0||f.call(Z,i)})),Br&&(X("onMouseLeave",!1,H),X("onPointerLeave",!1,H),Hr=function(){ie(!1,H)}),Le.has("focus")&&X("onFocus",!0,E),qe.has("focus")&&X("onBlur",!1,w),Le.has("contextMenu")&&(Re.onContextMenu=function(i){var f;$e.current&&qe.has("contextMenu")?ie(!1):(Ye(i),ie(!0)),i.preventDefault();for(var R=arguments.length,W=new Array(R>1?R-1:0),$=1;$<R;$++)W[$-1]=arguments[$];(f=Z.onContextMenu)===null||f===void 0||f.call.apply(f,[Z,i].concat(W))}),Je&&(Re.className=rr(Z.className,Je));var fr=A(A({},Z),Re),_r={},at=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];at.forEach(function(i){V[i]&&(_r[i]=function(){for(var f,R=arguments.length,W=new Array(R),$=0;$<R;$++)W[$]=arguments[$];(f=fr[i])===null||f===void 0||f.call.apply(f,[fr].concat(W)),V[i].apply(V,W)})});var nt=a.cloneElement(ze,A(A({},fr),_r)),ot={x:Gr,y:Ue},Nt=ye?A({},ye!==!0?ye:{}):null;return a.createElement(a.Fragment,null,a.createElement(Rt,{disabled:!N,ref:jr,onResize:Y},a.createElement(Zt,{getTriggerDOMNode:ar},nt)),a.createElement(gt.Provider,{value:yr},a.createElement(Kt,{portal:e,ref:ae,prefixCls:u,popup:ee,className:rr(me,Yr),style:he,target:oe,onMouseEnter:pe,onMouseLeave:Hr,onPointerEnter:pe,zIndex:S,open:N,keepDom:Ze,fresh:ve,onClick:tr,mask:m,motion:j,maskMotion:br,onVisibleChanged:Wr,onPrepare:zr,forceRender:ue,autoDestroy:Ge,getPopupContainer:p,align:fe,arrow:Nt,arrowPos:ot,ready:Jr,offsetX:Rr,offsetY:$r,offsetR:Ie,offsetB:kr,onAlign:Pe,stretch:J,targetWidth:Or/Lr,targetHeight:rt/Kr})))});return t}const fa=aa(Lt);function da(e){var t=a.createContext(void 0),r=function(n){var u=n.value,l=n.children,s=a.useRef(u);s.current=u;var h=a.useState(function(){return{getValue:function(){return s.current},listeners:new Set}}),c=b(h,1),g=c[0];return F(function(){Pt.unstable_batchedUpdates(function(){g.listeners.forEach(function(v){v(u)})})},[u]),a.createElement(t.Provider,{value:g},l)};return{Context:t,Provider:r,defaultValue:e}}function ma(e,t){var r=Te(typeof t=="function"?t:function(v){if(t===void 0)return v;if(!Array.isArray(t))return v[t];var C={};return t.forEach(function(d){C[d]=v[d]}),C}),o=a.useContext(e==null?void 0:e.Context),n=o||{},u=n.listeners,l=n.getValue,s=a.useRef();s.current=r(o?l():e==null?void 0:e.defaultValue);var h=a.useState({}),c=b(h,2),g=c[1];return F(function(){if(!o)return;function v(C){var d=r(C);Vt(s.current,d,!0)||g({})}return u.add(v),function(){u.delete(v)}},[o]),s.current}function ha(){var e=a.createContext(null);function t(){return a.useContext(e)}function r(n,u){var l=Ir(n),s=function(c,g){var v=l?{ref:g}:{},C=a.useRef(0),d=a.useRef(c),y=t();return y!==null?a.createElement(n,mr({},c,v)):((!u||u(d.current,c))&&(C.current+=1),d.current=c,a.createElement(e.Provider,{value:C.current},a.createElement(n,mr({},c,v))))};return l?a.forwardRef(s):s}function o(n,u){var l=Ir(n),s=function(c,g){var v=l?{ref:g}:{};return t(),a.createElement(n,mr({},c,v))};return l?a.memo(a.forwardRef(s),u):a.memo(s,u)}return{makeImmutable:r,responseImmutable:o,useImmutableMark:t}}export{fa as T,da as a,ha as c,ma as u};
